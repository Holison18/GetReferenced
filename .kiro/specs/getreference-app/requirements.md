# Requirements Document

## Introduction

GetReference is a full-stack web application that streamlines the process for students and alumni to request personalized recommendation letters from lecturers for school admissions, scholarships, or job applications. The system addresses lecturer overload through AI-assisted letter drafting, payment incentives, automated notifications, and privacy controls where students waive rights to view final letters.

## Glossary

- **GetReference_System**: The complete web application including frontend, backend, and integrations
- **Student_User**: Registered students or alumni who request recommendation letters
- **Lecturer_User**: Academic staff who write and submit recommendation letters
- **Admin_User**: System administrators who manage users, tokens, and platform operations
- **Request_Entity**: A formal request for recommendation letter(s) submitted by a Student_User
- **Letter_Entity**: A recommendation letter created by a Lecturer_User for a specific Request_Entity
- **Token_Entity**: A voucher that allows free requests, generated by Admin_Users
- **AI_Assistant**: OpenAI GPT integration that helps draft personalized letters
- **Payment_System**: Stripe integration handling student payments and lecturer payouts
- **Notification_System**: Multi-channel communication system using email, SMS, and WhatsApp

## Requirements

### Requirement 1

**User Story:** As a student or alumni, I want to register and create an account so that I can request recommendation letters from lecturers.

#### Acceptance Criteria

1. WHEN a Student_User submits registration form with required information, THE GetReference_System SHALL create a new account with pending email verification status
2. THE GetReference_System SHALL require first name, last name, email, contact info, date of birth, enrollment year, and completion year for Student_User registration
3. THE GetReference_System SHALL require mandatory transcript/certificate uploads in PDF or Word format during Student_User registration
4. WHEN a Student_User completes email verification, THE GetReference_System SHALL activate the account and grant access to student dashboard
5. THE GetReference_System SHALL require Student_User agreement to waive rights to view final letter content before account activation

### Requirement 2

**User Story:** As a lecturer, I want to register with staff verification so that I can receive and fulfill recommendation letter requests.

#### Acceptance Criteria

1. WHEN a Lecturer_User submits registration with staff email, THE GetReference_System SHALL send verification code to the provided staff email address
2. THE GetReference_System SHALL require first name, last name, staff number, primary email, department, employment year, and rank for Lecturer_User registration
3. WHEN a Lecturer_User completes email verification, THE GetReference_System SHALL require agreement to letter delivery and payment policy before granting access
4. THE GetReference_System SHALL allow Lecturer_User to set notification preferences for email, WhatsApp, and SMS during registration
5. THE GetReference_System SHALL store Lecturer_User department affiliations and contact preferences for request routing

### Requirement 3

**User Story:** As a student, I want to create recommendation letter requests so that I can obtain letters for school admissions, scholarships, or job applications.

#### Acceptance Criteria

1. WHEN a Student_User creates a new Request_Entity, THE GetReference_System SHALL require selection of exactly one purpose: school, scholarship, or job application
2. THE GetReference_System SHALL allow Student_User to select up to 2 Lecturer_Users as recommenders for each Request_Entity
3. WHEN a Student_User submits Request_Entity details, THE GetReference_System SHALL require recipient information, deadline, and supporting documents
4. THE GetReference_System SHALL allow Student_User to upload or type draft letters to serve as templates for AI_Assistant
5. WHEN a Student_User completes Request_Entity form, THE GetReference_System SHALL process payment before notifying selected Lecturer_Users

### Requirement 4

**User Story:** As a lecturer, I want to receive and manage recommendation letter requests so that I can efficiently handle student requests.

#### Acceptance Criteria

1. WHEN a new Request_Entity is assigned to a Lecturer_User, THE GetReference_System SHALL send notification through selected communication channels
2. THE GetReference_System SHALL allow Lecturer_User to accept or decline Request_Entity with optional reason within specified timeframe
3. WHEN a Lecturer_User accepts a Request_Entity, THE GetReference_System SHALL update status to "Accepted" and notify Student_User
4. THE GetReference_System SHALL provide Lecturer_User access to all Request_Entity details including student information, documents, and draft letters
5. IF a Lecturer_User does not respond within one week, THEN THE GetReference_System SHALL send automated reminder notifications

### Requirement 5

**User Story:** As a lecturer, I want to use AI assistance for letter drafting so that I can create personalized letters efficiently while maintaining my writing style.

#### Acceptance Criteria

1. WHEN a Lecturer_User chooses AI assistance for Letter_Entity creation, THE GetReference_System SHALL analyze uploaded sample letters to learn writing style
2. THE GetReference_System SHALL allow Lecturer_User to rate student attributes on 1-10 scale using provided sliders for AI_Assistant input
3. WHEN AI_Assistant generates Letter_Entity draft, THE GetReference_System SHALL incorporate Lecturer_User's writing style and student attribute ratings
4. THE GetReference_System SHALL allow Lecturer_User to iteratively refine AI_Assistant output through prompts and manual edits
5. THE GetReference_System SHALL maintain Lecturer_User's final approval authority over all Letter_Entity content before submission

### Requirement 6

**User Story:** As a student, I want to pay for recommendation letter requests so that I can incentivize lecturers and support the platform.

#### Acceptance Criteria

1. WHEN a Student_User submits Request_Entity, THE GetReference_System SHALL require payment of $30 per school/job/scholarship application
2. THE GetReference_System SHALL support multiple payment methods including credit cards through Stripe integration
3. WHEN payment is processed successfully, THE GetReference_System SHALL split proceeds with 75% to Lecturer_User and 25% to platform
4. THE GetReference_System SHALL allow Student_User to use Token_Entity for free requests when available
5. WHEN Lecturer_User completes Letter_Entity and submits declaration, THE GetReference_System SHALL automatically transfer payment to Lecturer_User's specified account

### Requirement 7

**User Story:** As a user, I want to receive notifications about request status changes so that I can stay informed about progress.

#### Acceptance Criteria

1. WHEN Request_Entity status changes, THE GetReference_System SHALL send notifications to relevant Student_User and Lecturer_User
2. THE GetReference_System SHALL support notification delivery through email, SMS, and WhatsApp based on user preferences
3. WHEN Request_Entity remains pending for more than one week, THE GetReference_System SHALL send automated reminder notifications
4. THE GetReference_System SHALL provide in-app notification center for all users to view message history
5. THE GetReference_System SHALL allow Lecturer_User to send messages to Student_User regarding Request_Entity details

### Requirement 8

**User Story:** As an admin, I want to manage users and system operations so that I can maintain platform integrity and resolve issues.

#### Acceptance Criteria

1. THE GetReference_System SHALL provide Admin_User with comprehensive dashboard showing user statistics, request metrics, and payment analytics
2. THE GetReference_System SHALL allow Admin_User to generate and distribute Token_Entity with expiration dates for free requests
3. WHEN users submit complaints, THE GetReference_System SHALL route them to Admin_User for review and resolution
4. THE GetReference_System SHALL maintain audit logs of all user actions and system operations for Admin_User review
5. THE GetReference_System SHALL allow Admin_User to suspend or reset user accounts when necessary

### Requirement 9

**User Story:** As a user, I want to access the application on any device so that I can use it conveniently from mobile, tablet, or desktop.

#### Acceptance Criteria

1. THE GetReference_System SHALL implement responsive design using mobile-first approach with Tailwind CSS breakpoints
2. THE GetReference_System SHALL maintain full functionality across mobile (sm), tablet (md), and desktop (lg, xl) screen sizes
3. THE GetReference_System SHALL support dark mode toggle for improved user experience
4. THE GetReference_System SHALL meet WCAG AA accessibility standards including proper ARIA attributes and keyboard navigation
5. THE GetReference_System SHALL implement skeleton loading states and smooth animations using Framer Motion

### Requirement 10

**User Story:** As a system, I want to maintain security and scalability so that I can protect user data and handle growth.

#### Acceptance Criteria

1. THE GetReference_System SHALL implement HTTPS encryption for all data transmission
2. THE GetReference_System SHALL use Supabase authentication with JWT tokens for secure user sessions
3. THE GetReference_System SHALL encrypt sensitive documents stored in Supabase Storage
4. THE GetReference_System SHALL implement rate limiting to prevent abuse and ensure fair usage
5. THE GetReference_System SHALL scale automatically to support 1000+ concurrent users through Supabase infrastructure